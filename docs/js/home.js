"use strict";(()=>{var de="v6.2.0-beta.2";var bo="TinyBase",st=document,Le=()=>{addEventListener("load",()=>{let t=Hs("#version");t.innerText=de,t.style.width=t.scrollWidth+"px"})},jo=null,Te=()=>jo??=Hs("body > main > nav"),_o=null,Ee=()=>_o??=Hs("body > main > article"),Hs=t=>st.querySelector(t),Is=(t,n)=>t.querySelector(n),zo=t=>st.getElementById(t),ns=(t,n,c={},l)=>{let r=st.createElement(t);return Object.entries(c).forEach(d=>r.setAttribute(...d)),l!=null&&(r.innerText=l),n!=null?n.appendChild(r):r},Gs=(t,n)=>t.classList.add(n);var ht=(t,n)=>t.classList.remove(n);var Se=(t,n=!0)=>{let c=Te();["?","#"].forEach(l=>{t.includes(l)&&(t=t.substring(0,t.indexOf(l)))}),fetch(`${t}nav.json`).then(l=>l.json()).then(l=>{ht(Is(c,"li.current"),"current"),pe(l,Is(c,"ul"))}),fetch(`${t}article.html`).then(l=>l.text()).then(l=>{let r=Ee();r.innerHTML=l,r.scrollTo(0,0),Ao()}),n&&history.pushState(null,"",t)},Ao=()=>{let t=Is(Ee(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ns("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ns("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(l=>l.text()).then(l=>{ns("input",c,{type:"hidden",name:"data",value:l}),c.submit()}):c.submit()}},pe=({i:t,n,u:c,r:l,c:r,p:d,o:m,_},$)=>{let p=Te(),T=zo(t);if(T==null){T=ns("li",$,{id:t}),ns("span",T);let u=ns("a",T,{href:c});l?ns("code",u,{},n):u.innerText=n,d&&Gs(T,"parent")}if(m&&Gs(T,"open"),_!=null){let u=Is(T,"ul")??ns("ul",T);_.forEach(h=>{pe(h,u)})}if(r){Gs(T,"current"),st.title=`${n} | ${bo}`;let u=T.getBoundingClientRect(),h=p.getBoundingClientRect();u.top<h.top?p.scrollBy(0,u.top-h.top):u.bottom>h.bottom&&p.scrollBy(0,Math.min(u.bottom-h.bottom,u.top-h.top))}};var zs="dark",cn="light",ln="auto",Ce=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(zs)??ln;Hs("#dark")?.setAttribute("class",c),Hs("html").className=c==zs||c==ln&&t.matches?zs:cn};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==zs&&n()}),addEventListener("load",()=>{Hs("#dark").addEventListener("click",()=>{let c=localStorage.getItem(zs);localStorage.setItem(zs,c==zs?cn:c==cn?ln:zs),n()}),n()}),n()};var xe=t=>typeof t,Bs="",Bo=xe(Bs),ye=t=>Bs+t,ms=t=>t==null,Js=(t,n,c)=>ms(t)?c?.():n(t),Po=t=>xe(t)==Bo,gt=t=>Array.isArray(t),Fs=t=>t.length,Uo=(t,n)=>t.test(n),Me=(t,n)=>t.every(n),Wo=(t,n)=>Fs(t)===Fs(n)&&Me(t,(c,l)=>n[l]===c),me=(t,n)=>Me(t,(c,l)=>l==0||n(t[l-1],c)<=0),Ve=(t,n)=>t.sort(n),Ks=(t,n)=>t.forEach(n),ko=(t,n)=>t.map(n),qo=t=>Fs(t)==0,Go=(t,n,c)=>t.reduce(n,c),we=(t,...n)=>t.push(...n),Jo=t=>t.shift(),De=t=>n=>Go(an(n),(c,l)=>c+t(l),0),He=t=>t?.size??0,Ne=De(He),Ko=De(Ne),tt=(t,n)=>t?.has(n)??!1,dt=t=>ms(t)||He(t)==0,an=t=>[...t?.values()??[]],Re=t=>t.clear(),ds=(t,n)=>t?.forEach(n),nt=(t,n)=>t?.delete(n),$o=Object,Yo=$o.freeze,es=t=>new Map(t),Fe=t=>[...t?.keys()??[]],k=(t,n)=>t?.get(n),ut=(t,n)=>ds(t,(c,l)=>n(l,c)),W=(t,n,c)=>ms(c)?(nt(t,n),t):t?.set(n,c),be=(t,n,c,l)=>(tt(t,n)?l?.(k(t,n)):W(t,n,c()),k(t,n)),rn=(t,n,c,l,r=0)=>Js((c?be:k)(t,n[r],r>Fs(n)-2?c:es),d=>{if(r>Fs(n)-2)return l?.(d)&&W(t,n[r]),d;let m=rn(d,n,c,l,r+1);return dt(d)&&W(t,n[r]),m}),As=t=>new Set(gt(t)||ms(t)?t:[t]),Ns=(t,n)=>t?.add(n),Qo=(t,n,c,l,r)=>{let d=t.hasRow,m=es(),_=es(),$=es(),p=es(),T=es(),u=es(),h=()=>t,E=()=>Fe(m),R=C=>ut(_,C),x=C=>tt(_,C),F=C=>k(m,C),q=C=>k(_,C),Ls=(C,A)=>W(_,C,A),Ts=(C,A,...cs)=>{let X=be(u,C,As);return Ks(cs,S=>Ns(X,S)&&A&&t.callListener(S)),cs},Rs=(C,...A)=>Js(k(u,C),cs=>{Ks(qo(A)?an(cs):A,X=>{t.delListener(X),nt(cs,X)}),dt(cs)&&W(u,C)}),Cs=(C,A)=>{W(m,C,A),tt(_,C)||(W(_,C,n()),W(p,C,es()),W(T,C,es()),r($))},vs=(C,A,cs,X,S)=>{Cs(C,A);let j=es(),Z=es(),O=k(p,C),is=k(T,C),Es=b=>{let Y=Ss=>t.getCell(A,b,Ss),I=k(O,b),ps=d(A,b)?c(X(Y,b)):void 0;if(I===ps||gt(I)&&gt(ps)&&Wo(I,ps)||W(j,b,[I,ps]),!ms(S)){let Ss=k(is,b),xs=d(A,b)?S(Y,b):void 0;Ss!=xs&&W(Z,b,xs)}},us=b=>{cs(()=>{ds(j,([,Y],I)=>W(O,I,Y)),ds(Z,(Y,I)=>W(is,I,Y))},j,Z,O,is,b),Re(j),Re(Z)};ut(O,Es),t.hasTable(A)&&Ks(t.getRowIds(A),b=>{tt(O,b)||Es(b)}),us(!0),Rs(C),Ts(C,0,t.addRowListener(A,null,(b,Y,I)=>Es(I)),t.addTableListener(A,()=>us()))},M=C=>{W(m,C),W(_,C),W(p,C),W(T,C),Rs(C),r($)};return[h,E,R,x,F,q,Ls,Cs,vs,M,C=>l(C,$),()=>ut(u,M),Ts,Rs]},ve=(t,n)=>Po(t)?c=>c(t):t??(()=>n??Bs),Xo=(t,n)=>{let c=new WeakMap;return l=>(c.has(l)||c.set(l,t(l)),c.get(l))},Zo=(t,n)=>(t??0)<(n??0)?-1:1,Oo=/^\d+$/,Io=()=>{let t=[],n=0;return[c=>(c?Jo(t):null)??Bs+n++,c=>{Uo(Oo,c)&&Fs(t)<1e3&&we(t,c)}]},sc=(t,n=[Bs])=>{let c=[],l=(r,d)=>d==Fs(n)?we(c,r):n[d]===null?ds(r,m=>l(m,d+1)):Ks([n[d],null],m=>l(k(r,m),d+1));return l(t,0),c},tc=t=>{let n,[c,l]=Io(),r=es();return[(p,T,u,h=[],E=()=>[])=>{n??=t();let R=c(1);return W(r,R,[p,T,u,h,E]),Ns(rn(T,u??[Bs],As),R),R},(p,T,...u)=>Ks(sc(p,T),h=>ds(h,E=>k(r,E)[0](n,...T??[],...u))),p=>Js(k(r,p),([,T,u])=>(rn(T,u??[Bs],void 0,h=>(nt(h,p),dt(h)?1:0)),W(r,p),l(p),u)),p=>Js(k(r,p),([T,,u=[],h,E])=>{let R=(...x)=>{let F=Fs(x);F==Fs(u)?T(n,...x,...E(x)):ms(u[F])?Ks(h[F]?.(...x)??[],q=>R(...x,q)):R(...x,u[F])};R()})]},je=Xo(t=>{let n=es(),c=es(),[l,r,d]=tc(()=>X),[m,_,$,p,T,u,h,,E,R,x,F]=Qo(t,es,S=>ms(S)?Bs:gt(S)?ko(S,ye):ye(S),l,r),q=(S,j)=>tt(u(S),j),Ls=(S,j,Z,O,is,Es=Zo)=>{let us=ms(is)?void 0:([b],[Y])=>is(b,Y);return E(S,j,(b,Y,I,ps,Ss,xs)=>{let ys=0,Ms=As(),ws=As(),ls=u(S);if(ds(Y,([G,rs],as)=>{let z=As(G),Zs=As(rs);ds(z,fs=>nt(Zs,fs)?nt(z,fs):0),ds(z,fs=>{Ns(Ms,fs),Js(k(ls,fs),Vt=>{nt(Vt,as),dt(Vt)&&(W(ls,fs),ys=1)})}),ds(Zs,fs=>{Ns(Ms,fs),tt(ls,fs)||(W(ls,fs,As()),ys=1),Ns(k(ls,fs),as),ms(O)||Ns(ws,fs)})}),b(),dt(Ss)||(xs?ut(ls,G=>Ns(ws,G)):ut(I,G=>Js(k(ps,G),rs=>Ks(gt(rs)?rs:[rs],as=>Ns(ws,as)))),ds(ws,G=>{let rs=(z,Zs)=>Es(k(Ss,z),k(Ss,Zs),G),as=[...k(ls,G)];me(as,rs)||(W(ls,G,As(Ve(as,rs))),Ns(Ms,G))})),(ys||xs)&&!ms(us)){let G=[...ls];me(G,us)||(h(S,es(Ve(G,us))),ys=1)}ys&&r(n,[S]),ds(Ms,G=>r(c,[S,G]))},ve(Z),Js(O,ve)),X},Ts=S=>$((j,Z)=>S(j,O=>Cs(j,O,Z))),Rs=(S,j)=>Cs(S,j,u(S)),Cs=(S,j,Z)=>{let O=T(S);ds(Z,(is,Es)=>j(Es,us=>ds(is,b=>us(b,Y=>t.forEachCell(O,b,Y)))))},X={setIndexDefinition:Ls,delIndexDefinition:S=>(R(S),X),getStore:m,getIndexIds:_,forEachIndex:Ts,forEachSlice:Rs,hasIndex:p,hasSlice:q,getTableId:T,getSliceIds:S=>Fe(u(S)),getSliceRowIds:(S,j)=>an(k(u(S),j)),addIndexIdsListener:x,addSliceIdsListener:(S,j)=>l(j,n,[S]),addSliceRowIdsListener:(S,j,Z)=>l(Z,c,[S,j]),delListener:S=>(d(S),X),destroy:F,getListenerStats:()=>({sliceIds:Ne(n),sliceRowIds:Ko(c)})};return Yo(X)});var Xs=t=>typeof t,ct="",nc=Xs(ct),ec=Xs(!0),qe=Xs(0),oc=Xs(Xs),Ut="type",$s="default",cc="Listener",ic="add",Ys="Has",Zt="Ids",ot="Table",_e=ot+"s",lc=ot+Zt,Jt="Row",rc=Jt+"Count",ac=Jt+Zt,Gt="Cell",ze=Gt+Zt,Kt="Value",Ae=Kt+"s",fc=Kt+Zt,H=t=>ct+t,hc=isFinite,uc=(t,n)=>t instanceof n,K=t=>t==null,J=(t,n,c)=>K(t)?c?.():n(t),Ge=t=>t==nc||t==ec,fn=t=>Xs(t)==oc,Je=t=>Array.isArray(t),Be=(t,n,c)=>t.slice(n,c),bs=t=>t.length,gc=(t,n)=>t.test(n),hn=async(t,n,c)=>{try{return await t()}catch(l){n?.(l)}},dc=(t,n)=>t.includes(n),Lc=(t,n)=>t.every(n),Tc=(t,n)=>bs(t)===bs(n)&&Lc(t,(c,l)=>n[l]===c),Ec=(t,n)=>t.sort(n),mt=(t,n)=>t.forEach(n),$t=(t,n)=>t.map(n),Sc=(t,n,c)=>t.reduce(n,c),Yt=(t,...n)=>t.push(...n),pc=t=>t.shift(),Lt=t=>{let n=Xs(t);return Ge(n)||n==qe&&hc(t)?n:void 0},Pe=(t,n,c,l,r)=>K(r)?t.delCell(n,c,l,!0):t.setCell(n,c,l,r),Ue=(t,n,c)=>K(c)?t.delValue(n):t.setValue(n,c),pn=t=>n=>Sc(Cc(n),(c,l)=>c+t(l),0),Cn=t=>t?.size??0,yn=pn(Cn),St=pn(yn),un=pn(St),os=(t,n)=>t?.has(n)??!1,y=t=>K(t)||Cn(t)==0,Cc=t=>[...t?.values()??[]],gn=t=>t.clear(),v=(t,n)=>t?.forEach(n),Qt=(t,n)=>t?.delete(n),qs=Object,We=t=>qs.getPrototypeOf(t),Ke=qs.entries,yc=qs.isFrozen,Xt=t=>!K(t)&&J(We(t),n=>n==qs.prototype||K(We(n)),()=>!0),mc=qs.keys,Vc=qs.freeze,Rc=(t=[])=>qs.fromEntries(t),pt=(t,n)=>n in t,$e=(t,n)=>(delete t[n],t),vc=(t,n)=>mt(Ke(t),([c,l])=>n(l,c)),xc=(t,n)=>$t(Ke(t),([c,l])=>n(l,c)),Us=(t,n)=>Rc(xc(t,(c,l)=>[l,n(c,l)])),Mc=t=>bs(mc(t)),Vs=t=>Xt(t)&&Mc(t)==0,Ps=(t,n,c,l=0)=>K(t)||!Xt(t)||!l&&Vs(t)||yc(t)?(c?.(),!1):(vc(t,(r,d)=>{n(r,d)||$e(t,d)}),l?!0:!Vs(t)),V=t=>new Map(t),Tt=t=>[...t?.keys()??[]],g=(t,n)=>t?.get(n),Ws=(t,n)=>v(t,(c,l)=>n(l,c)),wc=(t,n)=>$t([...t?.entries()??[]],([c,l])=>n(l,c)),N=(t,n,c)=>K(c)?(Qt(t,n),t):t?.set(n,c),ss=(t,n,c,l)=>(os(t,n)?l?.(g(t,n)):N(t,n,c()),g(t,n)),Qs=(t,n,c,l=N)=>(Us(n,(r,d)=>c(t,d,r)),Ws(t,r=>pt(n,r)?0:l(t,r)),t),hs=(t,n,c,l)=>{let r={};return v(t,(d,m)=>{if(!c?.(d,m)){let _=n?n(d,m):d;l?.(_)||(r[m]=_)}}),r},Tn=(t,n,c)=>hs(t,l=>hs(l,n,c),y,Vs),Wt=(t,n,c)=>hs(t,l=>Tn(l,n,c),y,Vs),ks=(t,n)=>{let c=V();return v(t,(l,r)=>c.set(r,n?.(l)??l)),c},En=t=>ks(t,ks),dn=t=>ks(t,En),Sn=(t,n,c,l,r=0)=>J((c?ss:g)(t,n[r],r>bs(n)-2?c:V),d=>{if(r>bs(n)-2)return l?.(d)&&N(t,n[r]),d;let m=Sn(d,n,c,l,r+1);return y(d)&&N(t,n[r]),m}),Dc=(t,n)=>(t??0)<(n??0)?-1:1,Hc=JSON.stringify,Ln=JSON.parse,et=t=>Hc(t,(n,c)=>uc(c,Map)?qs.fromEntries([...c]):c),Nc=/^\d+$/,Ye=()=>{let t=[],n=0;return[c=>(c?pc(t):null)??ct+n++,c=>{gc(Nc,c)&&bs(t)<1e3&&Yt(t,c)}]},Ct=t=>new Set(Je(t)||K(t)?t:[t]),yt=(t,n)=>t?.add(n),Fc=(t,n=[ct])=>{let c=[],l=(r,d)=>d==bs(n)?Yt(c,r):n[d]===null?v(r,m=>l(m,d+1)):mt([n[d],null],m=>l(g(r,m),d+1));return l(t,0),c},bc=t=>{let n,[c,l]=Ye(),r=V();return[(p,T,u,h=[],E=()=>[])=>{n??=t();let R=c(1);return N(r,R,[p,T,u,h,E]),yt(Sn(T,u??[ct],Ct),R),R},(p,T,...u)=>mt(Fc(p,T),h=>v(h,E=>g(r,E)[0](n,...T??[],...u))),p=>J(g(r,p),([,T,u])=>(Sn(T,u??[ct],void 0,h=>(Qt(h,p),y(h)?1:0)),N(r,p),l(p),u)),p=>J(g(r,p),([T,,u=[],h,E])=>{let R=(...x)=>{let F=bs(x);F==bs(u)?T(n,...x,...E(x)):K(u[F])?mt(h[F]?.(...x)??[],q=>R(...x,q)):R(...x,u[F])};R()})]},kt=t=>[t,t],P=(t,n=yn)=>n(t[0])+n(t[1]),U=()=>[V(),V()],ke=t=>[...t],qt=([t,n])=>t===n,Et=(t,n,c)=>N(t,n,g(t,n)==-c?void 0:c),mn=()=>{let t,n,c=!1,l=!1,r=0,d=[],m=V(),_=V(),$=V(),p=V(),T=V(),u=V(),h=V(),E=V(),R=V(),x=V(),F=V(),q=V(),Ls=V(),Ts=V(),Rs=Ct(),Cs=V(),vs=V(),M=V(),Q=V(),it=U(),C=U(),A=U(),cs=U(),X=U(),S=U(),j=U(),Z=U(),O=U(),is=U(),Es=U(),us=U(),b=U(),Y=U(),I=U(),ps=U(),Ss=U(),xs=U(),ys=U(),Ms=U(),ws=U(),ls=U(),G=V(),rs=U(),[as,z,Zs,fs]=bc(()=>ts),Vt=s=>Ps(s,e=>Ps(e,Vn)),Ie=s=>Ps(s,Vn),Vn=s=>{if(!Ps(s,(o,i)=>dc([Ut,$s],i)))return!1;let e=s[Ut];return!Ge(e)&&e!=qe?!1:(Lt(s[$s])!=e&&$e(s,$s),!0)},so=Je,to=s=>Ps(s,Rn,js),Rn=(s,e)=>(!t||os(F,e)||js(e))&&Ps(s,(o,i)=>Rt(e,i,o),()=>js(e)),Rt=(s,e,o,i)=>Ps(i?o:wn(o,s,e),(a,f)=>J(vn(s,e,f,a),L=>(o[f]=L,!0),()=>!1),()=>js(s,e)),vn=(s,e,o,i)=>t?J(g(g(F,s),o),a=>Lt(i)!=a[Ut]?js(s,e,o,i,a[$s]):i,()=>js(s,e,o,i)):K(Lt(i))?js(s,e,o,i):i,xn=(s,e)=>Ps(e?s:no(s),(o,i)=>J(Mn(i,o),a=>(s[i]=a,!0),()=>!1),()=>rt()),Mn=(s,e)=>n?J(g(Ls,s),o=>Lt(e)!=o[Ut]?rt(s,e,o[$s]):e,()=>rt(s,e)):K(Lt(e))?rt(s,e):e,wn=(s,e,o)=>(J(g(q,e),([i,a])=>{v(i,(f,L)=>{pt(s,L)||(s[L]=f)}),v(a,f=>{pt(s,f)||js(e,o,f)})}),s),no=s=>(n&&(v(Ts,(e,o)=>{pt(s,o)||(s[o]=e)}),v(Rs,e=>{pt(s,e)||rt(e)})),s),Dn=s=>Qs(F,s,(e,o,i)=>{let a=V(),f=Ct();Qs(ss(F,o,V),i,(L,w,D)=>{N(L,w,D),J(D[$s],Ds=>N(a,w,Ds),()=>yt(f,w))}),N(q,o,[a,f])},(e,o)=>{N(F,o),N(q,o)}),Hn=s=>Qs(Ls,s,(e,o,i)=>{N(Ls,o,i),J(i[$s],a=>N(Ts,o,a),()=>yt(Rs,o))},(e,o)=>{N(Ls,o),N(Ts,o),Qt(Rs,o)}),Nn=s=>Vs(s)?zt():jt(s),eo=([s,e])=>{(Vs(s)?zt:jt)(s),(Vs(e)?At:_t)(e)},Fn=s=>Qs(M,s,(e,o,i)=>vt(o,i),(e,o)=>zn(o)),vt=(s,e)=>Qs(ss(M,s,()=>(Un(s,1),N(Cs,s,Ye()),N(vs,s,V()),V())),e,(o,i,a)=>lt(s,o,i,a),(o,i)=>An(s,o,i)),lt=(s,e,o,i,a)=>Qs(ss(e,o,()=>(Wn(s,o,1),V())),i,(f,L,w)=>Ot(s,o,f,L,w),(f,L)=>Bn(s,e,o,f,L,a)),Ot=(s,e,o,i,a)=>{os(o,i)||kn(s,e,i,1);let f=g(o,i);a!==f&&(qn(s,e,i,f,a),N(o,i,a))},bn=(s,e,o,i,a)=>J(g(e,o),f=>Ot(s,o,f,i,a),()=>lt(s,e,o,wn({[i]:a},s,o))),jn=s=>Vs(s)?At():_t(s),_n=s=>Qs(Q,s,(e,o,i)=>xt(o,i),(e,o)=>Pn(o)),xt=(s,e)=>{os(Q,s)||Gn(s,1);let o=g(Q,s);e!==o&&(Jn(s,o,e),N(Q,s,e))},oo=(s,e)=>{let[o]=g(Cs,s),i;do i=o(e);while(os(g(M,s),i));return i},Mt=s=>g(M,s)??vt(s,{}),zn=s=>vt(s,{}),An=(s,e,o)=>{let[,i]=g(Cs,s);i(o),lt(s,e,o,{},!0)},Bn=(s,e,o,i,a,f)=>{let L=g(g(q,s)?.[0],a);if(!K(L)&&!f)return Ot(s,o,i,a,L);let w=D=>{qn(s,o,D,g(i,D)),kn(s,o,D,-1),N(i,D)};K(L)?w(a):Ws(i,w),y(i)&&(Wn(s,o,-1),y(N(e,o))&&(Un(s,-1),N(M,s),N(Cs,s),N(vs,s)))},Pn=s=>{let e=g(Ts,s);if(!K(e))return xt(s,e);Jn(s,g(Q,s)),Gn(s,-1),N(Q,s)},Un=(s,e)=>Et(m,s,e),Wn=(s,e,o)=>Et(ss(p,s,V),e,o)&&N($,s,ss($,s,()=>0)+o),kn=(s,e,o,i)=>{let a=g(vs,s),f=g(a,o)??0;(f==0&&i==1||f==1&&i==-1)&&Et(ss(_,s,V),o,i),N(a,o,f!=-i?f+i:null),Et(ss(ss(T,s,V),e,V),o,i)},qn=(s,e,o,i,a)=>{ss(ss(ss(u,s,V),e,V),o,()=>[i,0])[1]=a,d[3]?.(s,e,o,a)},Gn=(s,e)=>Et(h,s,e),Jn=(s,e,o)=>{ss(E,s,()=>[e,0])[1]=o,d[4]?.(s,o)},js=(s,e,o,i,a)=>(Yt(ss(ss(ss(R,s,V),e,V),o,()=>[]),i),a),rt=(s,e,o)=>(Yt(ss(x,s,()=>[]),e),o),wt=(s,e,o)=>J(g(g(g(u,s),e),o),([i,a])=>[!0,i,a],()=>[!1,...kt(Ht(s,e,o))]),Kn=s=>J(g(E,s),([e,o])=>[!0,e,o],()=>[!1,...kt(Nt(s))]),$n=s=>!y(R)&&!y(ps[s])?v(s?dn(R):R,(e,o)=>v(e,(i,a)=>v(i,(f,L)=>z(ps[s],[o,a,L],f)))):0,Yn=s=>!y(x)&&!y(Ss[s])?v(s?ks(x):x,(e,o)=>z(Ss[s],[o],e)):0,at=(s,e,o,i)=>{if(!y(s))return z(e,i,()=>hs(s)),Ws(s,(a,f)=>z(o,[...i??[],a],f==1)),1},Qn=s=>{let e=Ft();e!=c&&z(it[s],void 0,e);let o=y(is[s]),i=y(b[s])&&y(Y[s])&&y(O[s])&&y(Es[s])&&y(S[s])&&y(j[s])&&y(Z[s])&&o&&y(A[s])&&y(cs[s]),a=y(I[s])&&y(us[s])&&y(X[s])&&y(C[s]);if(!i||!a){let f=s?[ks(m),En(_),ks($),En(p),dn(T),dn(u)]:[m,_,$,p,T,u];if(!i){at(f[0],A[s],cs[s]),v(f[1],(w,D)=>at(w,S[s],j[s],[D])),v(f[2],(w,D)=>{w!=0&&z(Z[s],[D],In(D))});let L=Ct();v(f[3],(w,D)=>{at(w,O[s],Es[s],[D])&&!o&&(z(is[s],[D,null]),yt(L,D))}),o||v(f[5],(w,D)=>{if(!os(L,D)){let Ds=Ct();v(w,_s=>v(_s,([Bt,Pt],ft)=>Pt!==Bt?yt(Ds,ft):Qt(_s,ft))),v(Ds,_s=>z(is[s],[D,_s]))}}),v(f[4],(w,D)=>v(w,(Ds,_s)=>at(Ds,b[s],Y[s],[D,_s])))}if(!a){let L;v(f[5],(w,D)=>{let Ds;v(w,(_s,Bt)=>{let Pt;v(_s,([ft,ge],Fo)=>{ge!==ft&&(z(I[s],[D,Bt,Fo],ge,ft,wt),L=Ds=Pt=1)}),Pt&&z(us[s],[D,Bt],wt)}),Ds&&z(X[s],[D],wt)}),L&&z(C[s],void 0,wt)}}},Xn=s=>{let e=bt();e!=l&&z(xs[s],void 0,e);let o=y(Ms[s])&&y(ws[s]),i=y(ls[s])&&y(ys[s]);if(!o||!i){let a=s?[ks(h),ks(E)]:[h,E];if(o||at(a[0],Ms[s],ws[s]),!i){let f;v(a[1],([L,w],D)=>{w!==L&&(z(ls[s],[D],w,L,Kn),f=1)}),f&&z(ys[s],void 0,Kn)}}},B=(s,...e)=>(on(()=>s(...$t(e,H))),ts),Zn=(s,e,o,i,a)=>{let f=Dt(s,e,...o);return as(()=>{let L=Dt(s,e,...o);Tc(L,f)||(f=L,i(ts,s,e,...o,f))},is[a?1:0],[s,e],[gs])},co=()=>[It(),tn()],It=()=>Wt(M),gs=()=>Tt(M),io=s=>Tn(g(M,H(s))),On=s=>Tt(g(vs,H(s))),In=s=>Cn(g(M,H(s))),Os=s=>Tt(g(M,H(s))),Dt=(s,e,o,i=0,a)=>Xt(s)?Dt(s.tableId,s.cellId,s.descending,s.offset,s.limit):$t(Be(Ec(wc(g(M,H(s)),(f,L)=>[K(e)?L:g(f,H(e)),L]),([f],[L])=>Dc(f,L)*(o?-1:1)),i,K(a)?a:i+a),([,f])=>f),lo=(s,e)=>hs(g(g(M,H(s)),H(e))),sn=(s,e)=>Tt(g(g(M,H(s)),H(e))),Ht=(s,e,o)=>g(g(g(M,H(s)),H(e)),H(o)),tn=()=>hs(Q),nn=()=>Tt(Q),Nt=s=>g(Q,H(s)),Ft=()=>!y(M),se=s=>os(M,H(s)),te=(s,e)=>os(g(vs,H(s)),H(e)),ne=(s,e)=>os(g(M,H(s)),H(e)),ee=(s,e,o)=>os(g(g(M,H(s)),H(e)),H(o)),bt=()=>!y(Q),oe=s=>os(Q,H(s)),ro=()=>et(M),ao=()=>et(Q),fo=()=>et([M,Q]),ho=()=>et(F),uo=()=>et(Ls),go=()=>et([F,Ls]),Lo=s=>B(()=>{let e=fn(s)?s():s;so(e)&&eo(e)}),jt=s=>B(()=>to(s)?Fn(s):0),To=(s,e)=>B(o=>Rn(e,o)?vt(o,e):0,s),Eo=(s,e,o)=>B((i,a)=>Rt(i,a,o)?lt(i,Mt(i),a,o):0,s,e),So=(s,e,o=!0)=>on(()=>{let i;return Rt(s,i,e)&&(s=H(s),lt(s,Mt(s),i=oo(s,o?1:0),e)),i}),po=(s,e,o)=>B((i,a)=>{if(Rt(i,a,o,1)){let f=Mt(i);Us(o,(L,w)=>bn(i,f,a,w,L))}},s,e),Co=(s,e,o,i)=>B((a,f,L)=>J(vn(a,f,L,fn(i)?i(Ht(a,f,L)):i),w=>bn(a,Mt(a),f,L,w)),s,e,o),_t=s=>B(()=>xn(s)?_n(s):0),yo=s=>B(()=>xn(s,1)?Us(s,(e,o)=>xt(o,e)):0),mo=(s,e)=>B(o=>J(Mn(o,fn(e)?e(Nt(o)):e),i=>xt(o,i)),s),Vo=s=>B(()=>{Us(s[0],(e,o)=>K(e)?re(o):Us(e,(i,a)=>K(i)?ae(o,a):Us(i,(f,L)=>Pe(ts,o,a,L,f)))),Us(s[1],(e,o)=>Ue(ts,o,e))}),ce=s=>(hn(()=>Nn(Ln(s))),ts),Ro=s=>(hn(()=>jn(Ln(s))),ts),vo=s=>B(()=>hn(()=>{let[e,o]=Ln(s);Nn(e),jn(o)},()=>ce(s))),ie=s=>B(()=>{if((t=Vt(s))&&(Dn(s),!y(M))){let e=It();zt(),jt(e)}}),le=s=>B(()=>{if(n=Ie(s)){let e=tn();en(),At(),n=!0,Hn(s),_t(e)}}),xo=(s,e)=>B(()=>{ie(s),le(e)}),zt=()=>B(()=>Fn({})),re=s=>B(e=>os(M,e)?zn(e):0,s),ae=(s,e)=>B((o,i)=>J(g(M,o),a=>os(a,i)?An(o,a,i):0),s,e),Mo=(s,e,o,i)=>B((a,f,L)=>J(g(M,a),w=>J(g(w,f),D=>os(D,L)?Bn(a,w,f,D,L,i):0)),s,e,o),At=()=>B(()=>_n({})),wo=s=>B(e=>os(Q,e)?Pn(e):0,s),fe=()=>B(()=>{Dn({}),t=!1}),en=()=>B(()=>{Hn({}),n=!1}),Do=()=>B(()=>{fe(),en()}),on=(s,e)=>{if(r!=-1){he();let o=s();return ue(e),o}},he=()=>(r!=-1&&r++,r==1&&(d[0]?.(),z(G)),ts),Ho=()=>[hs(u,(s,e)=>g(m,e)===-1?void 0:hs(s,(o,i)=>g(g(p,e),i)===-1?void 0:hs(o,([,a])=>a,a=>qt(a)),y,Vs),y,Vs),hs(E,([,s])=>s,s=>qt(s)),1],No=()=>[!y(u),!y(E),Wt(u,ke,qt),Wt(R),hs(E,ke,qt),hs(x),hs(m),Tn(p),Wt(T),hs(h)],ue=s=>(r>0&&(r--,r==0&&(r=1,$n(1),y(u)||Qn(1),Yn(1),y(E)||Xn(1),s?.(ts)&&(v(u,(e,o)=>v(e,(i,a)=>v(i,([f],L)=>Pe(ts,o,a,L,f)))),gn(u),v(E,([e],o)=>Ue(ts,o,e)),gn(E)),z(rs[0],void 0),r=-1,$n(0),y(u)||Qn(0),Yn(0),y(E)||Xn(0),d[1]?.(),z(rs[1],void 0),d[2]?.(),r=0,c=Ft(),l=bt(),mt([m,_,$,p,T,u,R,h,E,x],gn))),ts),ts={getContent:co,getTables:It,getTableIds:gs,getTable:io,getTableCellIds:On,getRowCount:In,getRowIds:Os,getSortedRowIds:Dt,getRow:lo,getCellIds:sn,getCell:Ht,getValues:tn,getValueIds:nn,getValue:Nt,hasTables:Ft,hasTable:se,hasTableCell:te,hasRow:ne,hasCell:ee,hasValues:bt,hasValue:oe,getTablesJson:ro,getValuesJson:ao,getJson:fo,getTablesSchemaJson:ho,getValuesSchemaJson:uo,getSchemaJson:go,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:Lo,setTables:jt,setTable:To,setRow:Eo,addRow:So,setPartialRow:po,setCell:Co,setValues:_t,setPartialValues:yo,setValue:mo,applyChanges:Vo,setTablesJson:ce,setValuesJson:Ro,setJson:vo,setTablesSchema:ie,setValuesSchema:le,setSchema:xo,delTables:zt,delTable:re,delRow:ae,delCell:Mo,delValues:At,delValue:wo,delTablesSchema:fe,delValuesSchema:en,delSchema:Do,transaction:on,startTransaction:he,getTransactionChanges:Ho,getTransactionLog:No,finishTransaction:ue,forEachTable:s=>v(M,(e,o)=>s(o,i=>v(e,(a,f)=>i(f,L=>Ws(a,L))))),forEachTableCell:(s,e)=>Ws(g(vs,H(s)),e),forEachRow:(s,e)=>v(g(M,H(s)),(o,i)=>e(i,a=>Ws(o,a))),forEachCell:(s,e,o)=>Ws(g(g(M,H(s)),H(e)),o),forEachValue:s=>Ws(Q,s),addSortedRowIdsListener:(s,e,o,i,a,f,L)=>Xt(s)?Zn(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):Zn(s,e,[o,i,a],f,L),addStartTransactionListener:s=>as(s,G),addWillFinishTransactionListener:s=>as(s,rs[0]),addDidFinishTransactionListener:s=>as(s,rs[1]),callListener:s=>(fs(s),ts),delListener:s=>(Zs(s),ts),getListenerStats:()=>({hasTables:P(it),tables:P(C),tableIds:P(A),hasTable:P(cs),table:P(X),tableCellIds:P(S),hasTableCell:P(j,St),rowCount:P(Z),rowIds:P(O),sortedRowIds:P(is),hasRow:P(Es,St),row:P(us,St),cellIds:P(b,St),hasCell:P(Y,un),cell:P(I,un),invalidCell:P(ps,un),hasValues:P(xs),values:P(ys),valueIds:P(Ms),hasValue:P(ws),value:P(ls),invalidValue:P(Ss),transaction:yn(G)+P(rs)}),isMergeable:()=>!1,createStore:mn,addListener:as,callListeners:z,setInternalListeners:(s,e,o,i,a)=>d=[s,e,o,i,a]};return Us({[Ys+_e]:[0,it,[],()=>[Ft()]],[_e]:[0,C],[lc]:[0,A],[Ys+ot]:[1,cs,[gs],s=>[se(...s)]],[ot]:[1,X,[gs]],[ot+ze]:[1,S,[gs]],[Ys+ot+Gt]:[2,j,[gs,On],s=>[te(...s)]],[rc]:[1,Z,[gs]],[ac]:[1,O,[gs]],[Ys+Jt]:[2,Es,[gs,Os],s=>[ne(...s)]],[Jt]:[2,us,[gs,Os]],[ze]:[2,b,[gs,Os]],[Ys+Gt]:[3,Y,[gs,Os,sn],s=>[ee(...s)]],[Gt]:[3,I,[gs,Os,sn],s=>kt(Ht(...s))],InvalidCell:[3,ps],[Ys+Ae]:[0,xs,[],()=>[bt()]],[Ae]:[0,ys],[fc]:[0,Ms],[Ys+Kt]:[1,ws,[nn],s=>[oe(...s)]],[Kt]:[1,ls,[nn],s=>kt(Nt(s[0]))],InvalidValue:[1,Ss]},([s,e,o,i],a)=>{ts[ic+a+cc]=(...f)=>as(f[s],e[f[s+1]?1:0],s>0?Be(f,0,s):void 0,o,i)}),Vc(ts)};var Oe=(t=!1)=>{addEventListener("load",()=>{let n=Hs("body > header > nav");if(n==null)return;let c=ns("div",null,{id:"search"}),l=ns("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),r=ns("ol",c),d=ns("li",r,{},"No results found"),m=mn(),_=je(m);_.setIndexDefinition("p","p",(h,E)=>{let R=[];return $(h,E).forEach(x=>{for(let F=0;F<x.length;F++)R.push(x.slice(0,F+1))}),R},(h,E)=>$(h,E).join(" "),void 0,(h,E,R)=>Ze(E,R)-Ze(h,R));let $=(h,E)=>[...E.split(/\/|-|_/),...(h("n")+" "+h("s")).toLowerCase().split(" ")].filter(R=>R.length>3);fetch("/pages.json").then(h=>h.json()).then(h=>{m.setContent(h),p()});let p=()=>{n.prepend(c);let h=()=>(l.value?Gs:ht)(r,"show");l.addEventListener("focus",h),l.addEventListener("input",()=>{h(),T()}),l.addEventListener("blur",()=>ht(r,"show")),u()},T=()=>{let h=l.value.toLowerCase(),E=_.getSliceRowIds("p",h).slice(0,10),R=E.length==0?[d]:E.map((x,F)=>{let q=ns("li"),{n:Ls,s:Ts}=m.getRow("p",x);return Qe(ns("b",q),Ls,h),Qe(ns("span",q),Ts,h),q.title=Ts,q.addEventListener("mousedown",()=>t?location.href=x:Se(x)),F==0&&Gs(q,"hover"),q});r.replaceChildren(...R)},u=()=>addEventListener("keydown",h=>{if(st.activeElement==l){let E=Is(r,".hover");switch(h.code){case"Escape":return l.blur();case"ArrowDown":return h.preventDefault(),Xe(E,E?.nextSibling??r.firstChild);case"ArrowUp":return h.preventDefault(),Xe(E,E?.previousSibling??r.lastChild);case"Enter":return E?.dispatchEvent(new MouseEvent("mousedown"))}}else h.code=="KeyK"&&h.metaKey&&l.focus()})})},Qe=(t,n,c)=>{let l=n.toLowerCase().indexOf(c);t.innerHTML=l==-1?n:n.substring(0,l)+"<em>"+n.substring(l,l+c.length)+"</em>"+n.substring(l+c.length)},Xe=(t,n)=>{t!=n&&(t&&ht(t,"hover"),n&&(Gs(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},Ze=(t,n)=>{let c=t.length,l=0,r=t.indexOf(n);for(;r!==-1;)l+=(c-r)/c,r=t.indexOf(n,r+1);return l};Le();Ce();Oe(!0);})();
