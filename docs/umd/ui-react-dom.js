var e,t;e=this,t=function(e,t,l){"use strict";const a=e=>typeof e,o=a(""),n=a(!0),i=a(0),r="Value",s="currentTarget",d="value",u=isFinite,h=e=>null==e,m=(e,t)=>e.map(t),c=Object,g=(e=[])=>c.fromEntries(e),b=(e,t)=>m(c.entries(e),(([e,l])=>t(l,e))),p="tinybaseStoreInspector",w='content:url("',f=w+"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' stroke-width='4' stroke='white'>",C='</svg>")',I=w+"data:image/svg+xml,%3csvg viewBox='0 0 680 680' xmlns='http://www.w3.org/2000/svg' style='width:680px%3bheight:680px'%3e %3cpath stroke='white' stroke-width='80' fill='none' d='M340 617a84 241 90 11.01 0zM131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124zm-12-127a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e %3cpath fill='%23d81b60' d='M131 475a94 254 70 10428-124 114 286 70 01-428 124zm0-140a94 254 70 10428-124 114 286 70 01-428 124z' /%3e %3cpath d='M249 619a94 240 90 00308-128 114 289 70 01-308 128zM119 208a94 254 70 00306 38 90 260 90 01-306-38zm221 3a74 241 90 11.01 0z' /%3e%3c/svg%3e\")",v=m([[20,20,20,60],[20,20,60,20],[20,60,60,20],[60,20,20,60],[30,30,40,40]],(([e,t,l,a])=>f+`<rect x='20' y='20' width='60' height='60' fill='grey'/><rect x='${e}' y='${t}' width='${l}' height='${a}' fill='white'/>`+C)),y=f+"<path d='M20 20l60 60M20 80l60-60' />"+C;((e,t="")=>{e.join(t)})(b({"":"all:initial;font-family:sans-serif;font-size:0.75rem;position:fixed;z-index:999999","*":"all:revert","*::before":"all:revert","*::after":"all:revert",img:"width:1rem;height:1rem;background:#111;border:0",">img":"padding:0.25rem;bottom:0;right:0;position:fixed;"+I,...g(m(["bottom:0;left:0","top:0;right:0"],((e,t)=>[`>img[data-position='${t}']`,e]))),main:"display:flex;flex-direction:column;background:#111d;color:#fff;position:fixed;",...g(m(["bottom:0;left:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:30vh","bottom:0;left:0;width:100vw;height:30vh","top:0;right:0;width:35vw;height:100vh","top:0;right:0;width:100vw;height:100vh"],((e,t)=>[`main[data-position='${t}']`,e]))),header:"display:flex;padding:0.25rem;background:#000;align-items:center","header>img:nth-of-type(1)":I,"header>img:nth-of-type(6)":y,...g(m(v,((e,t)=>[`header>img[data-id='${t}']`,e]))),"header>span":"flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-left:0.25rem",article:"padding:0.25rem 0.25rem 0.25rem 0.5rem;overflow:auto",details:"margin-left:0.75rem;width:fit-content;",summary:"margin-left:-0.75rem;line-height:1.25rem;user-select:none;width:fit-content",table:"border-collapse:collapse;table-layout:fixed;margin-bottom:0.5rem",thead:"background:#222","th:nth-of-type(1)":"min-width:2rem;","th.sorted":"background:#000","table caption":"text-align:left;white-space:nowrap;line-height:1.25rem",button:"width:1.5rem;border:none;background:none;color:#fff;padding:0","button[disabled]":"color:#777","button.next":"margin-right:0.5rem",[`th,#${p} td`]:"overflow:hidden;text-overflow:ellipsis;padding:0.25rem 0.5rem;max-width:12rem;white-space:nowrap;border-width:1px 0;border-style:solid;border-color:#777;text-align:left"},((e,t)=>e?`#${p} ${t}{${e}}`:"")));const{createElement:k}=l,x=(e,...t)=>h(e)?{}:e(...t),T=(e,t,l,a)=>e==o?t:e==i?l:a,{useCallback:R,useMemo:N,useState:V}=l,z="editable",$=(e,t,l)=>{const a=R(e,t);return l?a:void 0},q=(e,t=!1,l,a=0,o,n,i,r)=>{const[[s,d,u],h]=V([e,t,a]),m=R((e=>{h(e),r?.(e)}),[r]),c=$((e=>m([e,e==s&&!d,u])),[m,s,d,u],l),g=R((e=>m([s,d,e])),[m,s,d]),b=!0===i?j:i;return[[s,d,u],c,N((()=>!1===i?null:k(b,{offset:u,limit:o,total:n,onChange:g})),[i,b,u,o,n,g])]},S=({cellId:e,sort:[t,l],label:a=e??"",onClick:o})=>k("th",{onClick:$((()=>o?.(e)),[o,e],o),className:h(l)||t!=e?void 0:`sorted ${l?"de":"a"}scending`},h(l)||t!=e?null:(l?"↓":"↑")+" ",a),M=({className:e,headerRow:t,idColumn:l,customCells:n,params:i,rowIds:r})=>{const[s,d,u,h,c,p,w]=i,f=h(...d),C=N((()=>{const e=n??f;return g(b(Array.isArray(e)?g(m(e,(e=>[e,e]))):e,((e,t)=>{return[t,{label:t,...(l=e,a(l)==o?{label:e}:e)}];var l})))}),[n,f]);return k("table",{className:e},w?k("caption",null,w):null,!1===t?null:k("thead",null,k("tr",null,!1===l?null:k(S,{sort:c??[],label:"Id",onClick:p}),b(C,(({label:e},t)=>k(S,{key:t,cellId:t,label:e,sort:c??[],onClick:p}))))),k("tbody",null,m(r,(e=>k("tr",{key:e},!1===l?null:k("th",null,e),b(C,(({component:t=u,getComponentProps:l},a)=>k("td",{key:a},k(t,{...x(l,e,a),...s,rowId:e,cellId:a})))))))))},H=({thing:e,onThingChange:t,className:l})=>{const[r,h]=V(),[m,c]=V(),[g,b]=V(),[p,w]=V(),[f,C]=V();m!==e&&(h((e=>{const t=a(e);return(e=>e==o||e==n)(t)||t==i&&u(e)?t:void 0})(e)),c(e),b(e+""),w(Number(e)||0),C(!!e));const I=R(((e,l)=>{l(e),c(e),t(e)}),[t]);return k("div",{className:l},k("button",{className:r,onClick:R((()=>{const e=T(r,i,n,o),l=T(e,g,p,f);h(e),c(l),t(l)}),[t,g,p,f,r])},r),T(r,k("input",{key:r,value:g,onChange:R((e=>I(e[s][d]+"",b)),[I])}),k("input",{key:r,type:"number",value:p,onChange:R((e=>I(Number(e[s][d]||0),w)),[I])}),k("input",{key:r,type:"checkbox",checked:f,onChange:R((e=>I(!!e[s].checked,C)),[I])})))},B=({tableId:e,rowId:l,cellId:a,store:o,className:n})=>k(H,{thing:t.useCell(e,l,a,o),onThingChange:t.useSetCellCallback(e,l,a,(e=>e),[],o),className:n??z+"Cell"}),E=({valueId:e,store:l,className:a})=>k(H,{thing:t.useValue(e,l),onThingChange:t.useSetValueCallback(e,(e=>e),[],l),className:a??z+r}),j=({onChange:e,total:t,offset:a=0,limit:o=t,singular:n="row",plural:i=n+"s"})=>{(a>t||a<0)&&(a=0,e(0));const r=$((()=>e(a-o)),[e,a,o],a>0),s=$((()=>e(a+o)),[e,a,o],a+o<t);return k(l.Fragment,null,t>o&&k(l.Fragment,null,k("button",{className:"previous",disabled:0==a,onClick:r},"←"),k("button",{className:"next",disabled:a+o>=t,onClick:s},"→"),a+1," to ",Math.min(t,a+o)," of "),t," ",1!=t?i:n)};e.EditableCellView=B,e.EditableValueView=E,e.ResultSortedTableInHtmlTable=({queryId:e,cellId:l,descending:a,offset:o,limit:n,queries:i,sortOnClick:r,paginator:s=!1,onChange:d,...u})=>{const[h,m,c]=q(l,a,r,o,n,t.useResultRowCount(e,i),s,d);return k(M,{...u,params:N((()=>[{queryId:e,queries:i},[e,i],t.ResultCellView,t.useResultTableCellIds,h,m,c]),[e,i,h,m,c]),rowIds:t.useResultSortedRowIds(e,...h,n,i)})},e.ResultTableInHtmlTable=({queryId:e,queries:l,...a})=>k(M,{...a,params:N((()=>[{queryId:e,queries:l},[e,l],t.ResultCellView,t.useResultTableCellIds]),[e,l]),rowIds:t.useResultRowIds(e,l)}),e.SortedTableInHtmlTable=({tableId:e,cellId:l,descending:a,offset:o,limit:n,store:i,editable:r,sortOnClick:s,paginator:d=!1,onChange:u,...h})=>{const[m,c,g]=q(l,a,s,o,n,t.useRowCount(e,i),d,u);return k(M,{...h,params:N((()=>[{tableId:e,store:i},[e,i],r?B:t.CellView,t.useTableCellIds,m,c,g]),[i,e,r,m,c,g]),rowIds:t.useSortedRowIds(e,...m,n,i)})},e.SortedTablePaginator=j,e.StoreInspector=e=>null,e.TableInHtmlTable=({tableId:e,store:l,editable:a,...o})=>k(M,{...o,params:N((()=>[{tableId:e,store:l},[e,l],a?B:t.CellView,t.useTableCellIds]),[l,e,a]),rowIds:t.useRowIds(e,l)}),e.ValuesInHtmlTable=({store:e,editable:l=!1,valueComponent:a=(l?E:t.ValueView),getValueComponentProps:o,className:n,headerRow:i,idColumn:s})=>k("table",{className:n},!1===i?null:k("thead",null,k("tr",null,!1===s?null:k("th",null,"Id"),k("th",null,r))),k("tbody",null,m(t.useValueIds(e),(t=>k("tr",{key:t},!1===s?null:k("th",null,t),k("td",null,k(a,{...x(o,t),valueId:t,store:e})))))))},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("./ui-react"),require("react")):"function"==typeof define&&define.amd?define(["exports","./ui-react","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TinyBaseUiReactDom={},e.TinyBaseUiReact,e.React);
